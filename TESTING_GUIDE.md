# 🧪 测试环境使用指南 - 天景 AeScape

## 🎯 概述

本指南说明如何在测试环境中安装和测试带有开幕视频功能的天景 AeScape Chrome扩展。

## 📁 测试环境文件结构

```
AeScape/ (测试环境根目录)
├── manifest.json          # 扩展配置文件
├── newtab.html           # 新标签页主界面 (含视频)
├── popup.html            # 弹出窗口界面
├── js/                   # JavaScript文件
│   ├── background.js     # 后台脚本
│   ├── newtab.js         # 新标签页脚本 (含视频逻辑)
│   ├── popup.js          # 弹出窗口脚本
│   └── content.js        # 内容脚本
├── css/                  # 样式文件
│   ├── newtab.css        # 新标签页样式 (含视频样式)
│   └── content.css       # 内容样式
├── video/                # 视频文件
│   └── M01522_2s_2K.webm # 开幕视频 (2秒)
├── icon/                 # 图标文件
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
├── test_video.html       # 视频播放测试页面
├── test_extension.html   # 扩展功能测试页面
└── VIDEO_INTEGRATION.md  # 视频集成说明
```

## 🚀 安装步骤

### 1. 准备Chrome浏览器
- 确保使用Chrome 88或更高版本
- 建议使用最新版本的Chrome浏览器

### 2. 打开扩展管理页面
- 在Chrome地址栏输入：`chrome://extensions/`
- 或者：菜单 → 更多工具 → 扩展程序

### 3. 开启开发者模式
- 在扩展管理页面右上角找到"开发者模式"开关
- 点击开启开发者模式

### 4. 加载扩展
- 点击"加载已解压的扩展程序"按钮
- 选择项目根目录（包含manifest.json的文件夹）
- 点击"选择文件夹"

### 5. 验证安装
- 扩展应该出现在扩展列表中
- 状态显示为"已启用"
- 扩展图标出现在工具栏中

## 🎬 测试开幕视频功能

### 方法1：新标签页测试
1. 打开新标签页（Ctrl+T 或点击+号）
2. 观察是否播放了2秒的开幕视频
3. 视频结束后应该平滑淡出
4. 显示正常的天气界面

### 方法2：独立视频测试
1. 在浏览器中打开 `test_video.html`
2. 测试视频播放控制功能
3. 验证视频文件是否正常加载

### 方法3：扩展功能测试
1. 在浏览器中打开 `test_extension.html`
2. 查看文件检查结果
3. 使用测试按钮验证功能

## 🔍 功能验证清单

### ✅ 基础功能
- [ ] 扩展成功加载
- [ ] 新标签页被替换
- [ ] 天气信息正常显示
- [ ] 时间显示正常
- [ ] 搜索功能正常

### ✅ 视频功能
- [ ] 开幕视频自动播放
- [ ] 视频时长约2秒
- [ ] 视频结束后平滑淡出
- [ ] 淡出后显示天气界面
- [ ] 视频播放不影响其他功能

### ✅ 错误处理
- [ ] 视频加载失败时正常回退
- [ ] 自动播放失败时正常处理
- [ ] 控制台无错误信息

## 🐛 常见问题解决

### 问题1：扩展无法加载
**症状**: 扩展管理页面显示错误
**解决方案**:
- 检查manifest.json文件是否完整
- 确认所有必需文件都存在
- 查看Chrome控制台错误信息

### 问题2：视频不播放
**症状**: 新标签页打开但没有视频播放
**解决方案**:
- 检查video文件夹是否存在
- 确认视频文件路径正确
- 查看浏览器控制台错误信息
- 测试 `test_video.html` 页面

### 问题3：视频播放但界面异常
**症状**: 视频播放但天气界面显示异常
**解决方案**:
- 检查CSS文件是否正确加载
- 确认JavaScript文件无语法错误
- 查看控制台错误信息

### 问题4：性能问题
**症状**: 页面加载缓慢或卡顿
**解决方案**:
- 检查视频文件大小（当前536KB）
- 考虑压缩视频文件
- 检查网络连接状况

## 📊 测试数据记录

### 测试环境
- **浏览器**: Chrome [版本号]
- **操作系统**: [系统信息]
- **扩展版本**: 1.0.0
- **测试时间**: [日期时间]

### 测试结果
- **视频播放**: ✅/❌
- **淡出效果**: ✅/❌
- **天气功能**: ✅/❌
- **搜索功能**: ✅/❌
- **整体体验**: ✅/❌

### 性能指标
- **页面加载时间**: [秒]
- **视频加载时间**: [秒]
- **内存使用**: [MB]
- **CPU使用**: [%]

## 🔄 更新和重新加载

### 代码更新后
1. 在扩展管理页面找到天景 AeScape
2. 点击"重新加载"按钮（刷新图标）
3. 重新测试功能

### 完全重新安装
1. 在扩展管理页面移除扩展
2. 重新加载项目文件夹
3. 重新测试所有功能

## 📝 反馈和报告

### 问题报告格式
```
问题描述: [详细描述问题]
复现步骤: [具体操作步骤]
期望结果: [应该发生什么]
实际结果: [实际发生了什么]
环境信息: [浏览器版本、系统等]
```

### 功能建议
- 记录具体的改进建议
- 说明改进的预期效果
- 提供实现思路

---

**测试环境版本**: 1.0.0  
**最后更新**: 2024年  
**维护者**: AeScape开发团队