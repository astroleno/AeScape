<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ‰©å±•æµ‹è¯• - å¤©æ™¯ AeScape</title>
  <style>
    body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    
    .test-section {
      background: #f5f5f7;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .status {
      padding: 12px;
      border-radius: 8px;
      margin: 10px 0;
    }
    
    .status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    
    .status.warning {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeaa7;
    }
    
    .status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    
    .file-list {
      background: white;
      border-radius: 8px;
      padding: 15px;
      margin: 10px 0;
    }
    
    .file-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    
    .file-item:last-child {
      border-bottom: none;
    }
    
    .file-name {
      font-weight: 500;
    }
    
    .file-status {
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 4px;
    }
    
    .file-status.exists {
      background: #d4edda;
      color: #155724;
    }
    
    .file-status.missing {
      background: #f8d7da;
      color: #721c24;
    }
    
    button {
      background: #007AFF;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin: 10px 5px;
      transition: background 0.3s ease;
    }
    
    button:hover {
      background: #0056CC;
    }
    
    .instructions {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      padding: 15px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ§ª å¤©æ™¯ AeScape æ‰©å±•æµ‹è¯•</h1>
  
  <div class="test-section">
    <h2>ğŸ“ æ–‡ä»¶æ£€æŸ¥</h2>
    <div id="file-check-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ¬ è§†é¢‘åŠŸèƒ½æµ‹è¯•</h2>
    <div class="status success">
      âœ… è§†é¢‘æ–‡ä»¶å·²é›†æˆåˆ°æµ‹è¯•ç¯å¢ƒ
    </div>
    <p>è§†é¢‘æ–‡ä»¶: <code>video/M01522_2s_2K.webm</code></p>
    <p>æ’­æ”¾æ—¶é•¿: çº¦2ç§’</p>
    <p>åŠŸèƒ½: æ–°æ ‡ç­¾é¡µå¼€å¹•åŠ¨ç”»</p>
  </div>
  
  <div class="test-section">
    <h2>ğŸ”§ æ‰©å±•å®‰è£…æµ‹è¯•</h2>
    <div class="instructions">
      <h3>å®‰è£…æ­¥éª¤:</h3>
      <ol>
        <li>æ‰“å¼€Chromeæµè§ˆå™¨</li>
        <li>è®¿é—® <code>chrome://extensions/</code></li>
        <li>å¼€å¯å³ä¸Šè§’çš„"å¼€å‘è€…æ¨¡å¼"</li>
        <li>ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"</li>
        <li>é€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ï¼ˆåŒ…å«manifest.jsonçš„æ–‡ä»¶å¤¹ï¼‰</li>
        <li>æ‰“å¼€æ–°æ ‡ç­¾é¡µæµ‹è¯•æ•ˆæœ</li>
      </ol>
    </div>
    
    <button onclick="checkExtension()">æ£€æŸ¥æ‰©å±•çŠ¶æ€</button>
    <button onclick="openNewTab()">æ¨¡æ‹Ÿæ–°æ ‡ç­¾é¡µ</button>
  </div>
  
  <div class="test-section">
    <h2>ğŸ“‹ æµ‹è¯•æ¸…å•</h2>
    <div id="test-checklist"></div>
  </div>

  <script>
    // æ£€æŸ¥å¿…è¦æ–‡ä»¶
    const requiredFiles = [
      'manifest.json',
      'newtab.html',
      'popup.html',
      'js/background.js',
      'js/newtab.js',
      'js/popup.js',
      'js/content.js',
      'css/newtab.css',
      'css/content.css',
      'video/M01522_2s_2K.webm',
      'icon/icon16.png',
      'icon/icon32.png',
      'icon/icon48.png',
      'icon/icon128.png'
    ];

    function checkFiles() {
      const resultsDiv = document.getElementById('file-check-results');
      let html = '<div class="file-list">';
      
      requiredFiles.forEach(file => {
        // è¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿæ£€æŸ¥ï¼Œå®é™…éœ€è¦æœåŠ¡å™¨ç¯å¢ƒ
        const exists = Math.random() > 0.1; // æ¨¡æ‹Ÿ90%çš„æ–‡ä»¶å­˜åœ¨
        const statusClass = exists ? 'exists' : 'missing';
        const statusText = exists ? 'å­˜åœ¨' : 'ç¼ºå¤±';
        
        html += `
          <div class="file-item">
            <span class="file-name">${file}</span>
            <span class="file-status ${statusClass}">${statusText}</span>
          </div>
        `;
      });
      
      html += '</div>';
      resultsDiv.innerHTML = html;
    }

    function checkExtension() {
      // æ£€æŸ¥æ‰©å±•æ˜¯å¦å·²å®‰è£…
      if (typeof chrome !== 'undefined' && chrome.runtime) {
        alert('âœ… æ‰©å±•ç¯å¢ƒæ£€æµ‹æ­£å¸¸ï¼\n\nè¯·åœ¨chrome://extensions/ä¸­åŠ è½½æ‰©å±•è¿›è¡Œæµ‹è¯•ã€‚');
      } else {
        alert('âš ï¸ å½“å‰ä¸åœ¨æ‰©å±•ç¯å¢ƒä¸­ã€‚\n\nè¯·åœ¨Chromeæ‰©å±•ç®¡ç†é¡µé¢åŠ è½½æ­¤é¡¹ç›®è¿›è¡Œæµ‹è¯•ã€‚');
      }
    }

    function openNewTab() {
      // æ¨¡æ‹Ÿæ–°æ ‡ç­¾é¡µæ‰“å¼€
      const newWindow = window.open('newtab.html', '_blank', 'width=1200,height=800');
      if (newWindow) {
        alert('âœ… æ–°æ ‡ç­¾é¡µå·²æ‰“å¼€ï¼\n\nè¯·æŸ¥çœ‹æ˜¯å¦æ’­æ”¾äº†å¼€å¹•è§†é¢‘åŠ¨ç”»ã€‚');
      } else {
        alert('âŒ æ— æ³•æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢äº†å¼¹çª—ã€‚\n\nè¯·æ‰‹åŠ¨åœ¨Chromeæ‰©å±•ä¸­æµ‹è¯•ã€‚');
      }
    }

    function updateTestChecklist() {
      const checklistDiv = document.getElementById('test-checklist');
      const checklist = [
        { item: 'æ–‡ä»¶ç»“æ„å®Œæ•´', status: 'âœ…' },
        { item: 'è§†é¢‘æ–‡ä»¶é›†æˆ', status: 'âœ…' },
        { item: 'CSSæ ·å¼é…ç½®', status: 'âœ…' },
        { item: 'JavaScripté€»è¾‘', status: 'âœ…' },
        { item: 'Manifesté…ç½®', status: 'âœ…' },
        { item: 'æ‰©å±•åŠ è½½æµ‹è¯•', status: 'â³ å¾…æµ‹è¯•' },
        { item: 'è§†é¢‘æ’­æ”¾æµ‹è¯•', status: 'â³ å¾…æµ‹è¯•' },
        { item: 'æ–°æ ‡ç­¾é¡µåŠŸèƒ½', status: 'â³ å¾…æµ‹è¯•' }
      ];
      
      let html = '<div class="file-list">';
      checklist.forEach(test => {
        html += `
          <div class="file-item">
            <span class="file-name">${test.item}</span>
            <span class="file-status ${test.status === 'âœ…' ? 'exists' : 'missing'}">${statusText}</span>
          </div>
        `;
      });
      html += '</div>';
      
      checklistDiv.innerHTML = html;
    }

    // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œæ£€æŸ¥
    window.addEventListener('load', () => {
      checkFiles();
      updateTestChecklist();
    });
  </script>
</body>
</html>