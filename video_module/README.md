# AeScape è§†é¢‘æ¨¡å— - å¤©æ°”é©±åŠ¨æ²‰æµ¸å¼æŠ½å¡ç³»ç»Ÿ

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

AeScape è§†é¢‘æ¨¡å—æ˜¯ä¸€ä¸ªåˆ›æ–°çš„"å¤©æ°”é©±åŠ¨çš„æ²‰æµ¸å¼æŠ½å¡ç³»ç»Ÿ"ï¼Œä¸ºæ–°æ ‡ç­¾é¡µæä¾›"å¤©äº•ä»ªå¼"èˆ¬çš„ä½“éªŒã€‚å½“ç”¨æˆ·æ‰“å¼€æ–°æ ‡ç­¾é¡µæ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®å½“å‰å¤©æ°”çŠ¶æ€æ™ºèƒ½è§¦å‘ç›¸åº”çš„åŠ¨ç”»æ•ˆæœï¼Œè¥é€ æ²‰æµ¸å¼çš„è§†è§‰ä½“éªŒã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ² æ™ºèƒ½æŠ½å¡ç³»ç»Ÿ
- **å¤©æ°”å˜åŒ–è§¦å‘**ï¼šå¤©æ°”çŠ¶æ€æ”¹å˜æ—¶è‡ªåŠ¨æ’­æ”¾åŠ¨ç”»
- **æŒç»­æ—¶é—´è§¦å‘**ï¼šé•¿æ—¶é—´åŒä¸€å¤©æ°”æ—¶å¶å°”è§¦å‘åŠ¨ç”»
- **æƒé‡éšæœºé€‰æ‹©**ï¼šé¿å…é‡å¤ï¼Œå¢åŠ æ–°é²œæ„Ÿ
- **å½©è›‹æœºåˆ¶**ï¼šç¨€æœ‰åŠ¨ç”»å¢åŠ æƒŠå–œæ„Ÿ

### ğŸ¨ è§†è§‰æ•ˆæœ
- **åŒå±‚è§†é¢‘æ’­æ”¾**ï¼šæ ¸å¿ƒå±‚ + å…‰æ™•å±‚
- **æ··åˆæ¨¡å¼ä¼˜åŒ–**ï¼šè§£å†³äº‘å±‚é»‘è¾¹é—®é¢˜
- **é»‘è‰²èƒŒæ™¯è¿‡æ¸¡**ï¼šä»é»‘å±åˆ°é€æ˜çš„æµç•…è¿‡æ¸¡
- **å½©è›‹ç‰¹æ•ˆ**ï¼šé›¨æ‰“ç»ç’ƒã€äº‘å±‚ç©¿è¶Šç­‰ç‰¹æ®Šæ•ˆæœ

### ğŸ® ç”¨æˆ·ä½“éªŒ
- **1.5ç§’æ²‰æµ¸ä½“éªŒ**ï¼šçŸ­æ—¶ä½†å¼ºçƒˆçš„è§†è§‰å†²å‡»
- **æ™ºèƒ½è§¦å‘æ§åˆ¶**ï¼šé¿å…è¿‡åº¦æ‰“æ‰°
- **ä¸ªæ€§åŒ–è®¾ç½®**ï¼šç”¨æˆ·å¯è°ƒæ•´æ’­æ”¾é¢‘ç‡å’Œåå¥½
- **æç®€å¸¸é©»èƒŒæ™¯**ï¼šæ—¥å¸¸ä½¿ç”¨ä¸å¹²æ‰°

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
video_module/
â”œâ”€â”€ æ ¸å¿ƒæ¨¡å—/
â”‚   â”œâ”€â”€ WeatherTriggerManager.js     # å¤©æ°”è§¦å‘ç®¡ç†ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”œâ”€â”€ AnimationCardSystem.js       # æŠ½å¡ç®—æ³•ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”œâ”€â”€ VideoPoolManager.js          # è§†é¢‘æ± ç®¡ç†ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”œâ”€â”€ UserExperienceController.js  # ç”¨æˆ·ä½“éªŒæ§åˆ¶ï¼ˆå¾…å®ç°ï¼‰
â”‚   â””â”€â”€ StorageManager.js            # å­˜å‚¨ç®¡ç†ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ è§†é¢‘æ’­æ”¾/
â”‚   â”œâ”€â”€ VideoIntroAnimation.js       # è§†é¢‘åŠ¨ç”»æ ¸å¿ƒ âœ…
â”‚   â”œâ”€â”€ VideoWeatherManager.js       # å¤©æ°”è§†é¢‘ç®¡ç† âœ…
â”‚   â””â”€â”€ weather-video-mapper.js      # è§†é¢‘æ˜ å°„ âœ…
â”œâ”€â”€ é…ç½®/
â”‚   â”œâ”€â”€ animation-pools.json         # åŠ¨ç”»æ± é…ç½®ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”œâ”€â”€ trigger-rules.json           # è§¦å‘è§„åˆ™ï¼ˆå¾…å®ç°ï¼‰
â”‚   â””â”€â”€ user-preferences.json        # ç”¨æˆ·åå¥½ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ æ ·å¼/
â”‚   â””â”€â”€ video-intro.css              # è§†é¢‘æ ·å¼ âœ…
â”œâ”€â”€ æµ‹è¯•/
â”‚   â””â”€â”€ example.html                 # åŠŸèƒ½æ¼”ç¤º âœ…
â”œâ”€â”€ å‚è€ƒæ–‡æ¡£/
â”‚   â”œâ”€â”€ advice.md                    # å¢å¼ºå»ºè®® âœ…
â”‚   â””â”€â”€ video-index.md               # è§†é¢‘ç´¢å¼• âœ…
â”œâ”€â”€ å¼€å‘æ–‡æ¡£/
â”‚   â””â”€â”€ HANDOVER_DOCUMENT.md         # å®Œæ•´äº¤æ¥æ–‡æ¡£ âœ…
â”œâ”€â”€ archived/                        # å½’æ¡£æ–‡ä»¶
â”‚   â”œâ”€â”€ README.md                    # å½’æ¡£è¯´æ˜
â”‚   â”œâ”€â”€ DEVELOPMENT_PLAN.md          # åˆå§‹å¼€å‘è®¡åˆ’
â”‚   â”œâ”€â”€ TECHNICAL_IMPLEMENTATION.md  # æŠ€æœ¯å®ç°æ–¹æ¡ˆ
â”‚   â”œâ”€â”€ IMPLEMENTATION_ROADMAP.md    # å®ç°è·¯çº¿å›¾
â”‚   â”œâ”€â”€ mech.md                      # æœºåˆ¶è®¾è®¡
â”‚   â”œâ”€â”€ demo.html                    # å®Œæ•´æ¼”ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ test-*.html                  # ä¸“é¡¹æµ‹è¯•é¡µé¢
â”‚   â”œâ”€â”€ log.md                       # å¼€å‘æ—¥å¿—
â”‚   â””â”€â”€ weather-animations.md        # åŠ¨ç”»å‚è€ƒæ–‡æ¡£
â””â”€â”€ chrome_store/                    # Chromeæ‰©å±•å‚è€ƒ
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€ä½¿ç”¨
```html
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="video-intro.css">
</head>
<body>
    <div id="video-container"></div>
    
    <script src="VideoIntroAnimation.js"></script>
    <script src="VideoWeatherManager.js"></script>
    <script>
        const videoManager = new VideoWeatherManager('#video-container');
        videoManager.playWeatherVideo('rain');
    </script>
</body>
</html>
```

### 2. æŠ½å¡ç³»ç»Ÿä½¿ç”¨
```javascript
// åˆå§‹åŒ–æŠ½å¡ç³»ç»Ÿ
const cardSystem = new AnimationCardSystem();
const triggerManager = new WeatherTriggerManager();

// æ£€æŸ¥æ˜¯å¦åº”è¯¥æ’­æ”¾åŠ¨ç”»
const shouldPlay = triggerManager.checkWeatherChange('rain');
if (shouldPlay.shouldTrigger) {
    // æŠ½å¡é€‰æ‹©è§†é¢‘
    const selectedVideo = cardSystem.drawCard('rain');
    // æ’­æ”¾åŠ¨ç”»
    videoManager.playWeatherVideo(selectedVideo.path);
}
```

## ğŸ“‹ æ”¯æŒçš„å¤©æ°”ç±»å‹

| å¤©æ°”ç±»å‹ | è§†é¢‘æ•°é‡ | æ··åˆæ¨¡å¼ | æè¿° |
|---------|---------|---------|------|
| æ™´å¤© (clear) | 8ä¸ª | lighten | ä¸å¤šäº‘å…±ç”¨äº‘å±‚è§†é¢‘ |
| å¤šäº‘ (cloudy) | 8ä¸ª | lighten | äº‘å±‚æ‰‘é¢æ•ˆæœ |
| é›¾å¤© (fog) | 8ä¸ª | lighten | ä¸å¤šäº‘å…±ç”¨äº‘å±‚è§†é¢‘ |
| é›¨å¤© (rain) | 8ä¸ª | screen | é›¨æ»´æ‰‘é¢æ•ˆæœ |
| é›ªå¤© (snow) | 9ä¸ª | screen | é›ªèŠ±é£˜è½æ•ˆæœ |
| é›·æš´ (thunderstorm) | 1ä¸ª | overlay | é—ªç”µç‰¹æ•ˆ |

## âš™ï¸ é…ç½®é€‰é¡¹

### è§¦å‘è§„åˆ™é…ç½®
```json
{
  "weatherChangeThreshold": 300000,  // å¤©æ°”å˜åŒ–é˜ˆå€¼ï¼ˆ5åˆ†é’Ÿï¼‰
  "durationThreshold": 1800000,      // æŒç»­æ—¶é—´é˜ˆå€¼ï¼ˆ30åˆ†é’Ÿï¼‰
  "maxDailyPlays": 10,               // æ¯æ—¥æœ€å¤§æ’­æ”¾æ¬¡æ•°
  "animationDuration": 1500          // åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆ1.5ç§’ï¼‰
}
```

### åŠ¨ç”»æ± é…ç½®
```json
{
  "clear": {
    "videos": [
      {
        "id": "clear_001",
        "path": "../video/tab/c/cloudy_1.webm",
        "weight": 80,
        "type": "normal",
        "description": "åº•è§†è§’äº‘å±‚æ‰‘é¢"
      }
    ]
  }
}
```

## ğŸ¨ è§†è§‰æ•ˆæœè¯´æ˜

### æ··åˆæ¨¡å¼ç­–ç•¥
- **lightenæ¨¡å¼**ï¼šç”¨äºäº‘å±‚è§†é¢‘ï¼Œè§£å†³é»‘è¾¹é—®é¢˜
- **screenæ¨¡å¼**ï¼šç”¨äºé›¨æ»´å’Œé›ªèŠ±ï¼Œä¿æŒç²’å­æ•ˆæœ
- **overlayæ¨¡å¼**ï¼šç”¨äºé›·æš´ï¼Œå¢å¼ºè§†è§‰æ•ˆæœ

### æ’­æ”¾æµç¨‹
1. **é»‘è‰²èƒŒæ™¯é˜¶æ®µ (0-50%)**ï¼šçº¯é»‘èƒŒæ™¯ï¼Œè§†é¢‘å¼€å§‹æ’­æ”¾
2. **é€æ˜èƒŒæ™¯é˜¶æ®µ (50-67%)**ï¼šèƒŒæ™¯å˜é€æ˜ï¼Œtabç•Œé¢å¯è§
3. **æ·¡å‡ºé˜¶æ®µ (67-100%)**ï¼šè§†é¢‘æ·¡å‡ºï¼Œå®Œå…¨æ˜¾ç¤ºtabç•Œé¢

## ğŸ”§ API å‚è€ƒ

### VideoWeatherManager
```javascript
class VideoWeatherManager {
  constructor(containerSelector, options = {})
  playWeatherVideo(weatherType, config = {})
  stopVideo()
  setVideoSource(src)
}
```

### AnimationCardSystem
```javascript
class AnimationCardSystem {
  constructor()
  drawCard(weatherType)
  filterAvailableVideos(pool, weatherType)
  updatePlayHistory(videoId)
}
```

### WeatherTriggerManager
```javascript
class WeatherTriggerManager {
  constructor()
  checkWeatherChange(currentWeather)
  checkDurationTrigger(currentWeather)
  shouldTriggerAnimation(weatherState)
}
```

## ğŸ§ª æµ‹è¯•

### åŠŸèƒ½æµ‹è¯•
```bash
# æ‰“å¼€æµ‹è¯•é¡µé¢
open example.html

# æµ‹è¯•ä¸åŒå¤©æ°”ç±»å‹
# 1. ç‚¹å‡»å¤©æ°”æŒ‰é’®
# 2. è§‚å¯Ÿè§†é¢‘æ’­æ”¾æ•ˆæœ
# 3. æ£€æŸ¥æ··åˆæ¨¡å¼æ•ˆæœ
# 4. éªŒè¯é»‘è‰²èƒŒæ™¯è¿‡æ¸¡
```

### ä¸“é¡¹æµ‹è¯•
- `test-video-paths.html` - è§†é¢‘è·¯å¾„æµ‹è¯•
- `test-rain-videos.html` - é›¨å¤©è§†é¢‘æµ‹è¯•
- `test-blend-modes.html` - æ··åˆæ¨¡å¼æµ‹è¯•

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### è§†é¢‘ä¼˜åŒ–
- 1080pè§†é¢‘å…¨å±è¦†ç›–
- é¢„åŠ è½½ç­–ç•¥
- å†…å­˜ç®¡ç†
- ç½‘ç»œè¯·æ±‚ä¼˜åŒ–

### åŠ¨ç”»ä¼˜åŒ–
- CSSç¡¬ä»¶åŠ é€Ÿ
- 60fpsæµç•…åº¦
- å“åº”å¼é€‚é…
- æ€§èƒ½ç›‘æ§

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡ (1-2ä¸ªæœˆ)
- [ ] ç”¨æˆ·è¡Œä¸ºåˆ†æ
- [ ] åŠ¨ç”»æ•ˆæœä¼˜åŒ–
- [ ] æ€§èƒ½ç›‘æ§ç³»ç»Ÿ
- [ ] ç”¨æˆ·åé¦ˆæ”¶é›†

### ä¸­æœŸç›®æ ‡ (3-6ä¸ªæœˆ)
- [ ] ä¸ªæ€§åŒ–æ¨è
- [ ] ç¤¾äº¤åˆ†äº«åŠŸèƒ½
- [ ] æ›´å¤šå¤©æ°”ç±»å‹
- [ ] ç§»åŠ¨ç«¯é€‚é…

### é•¿æœŸæ„¿æ™¯ (6ä¸ªæœˆ+)
- [ ] AIé©±åŠ¨çš„åŠ¨ç”»ç”Ÿæˆ
- [ ] äº‘ç«¯åŒæ­¥ç³»ç»Ÿ
- [ ] ç¤¾åŒºå†…å®¹å¹³å°
- [ ] å•†ä¸šåŒ–æ¢ç´¢

## ğŸ“ å¼€å‘æ–‡æ¡£

- [æŠ€æœ¯å®ç°æ–¹æ¡ˆ](./TECHNICAL_IMPLEMENTATION.md)
- [å®ç°è·¯çº¿å›¾](./IMPLEMENTATION_ROADMAP.md)
- [å¼€å‘è®¡åˆ’](./DEVELOPMENT_PLAN.md)
- [è§†é¢‘ç´¢å¼•](./video-index.md)
- [å¢å¼ºå»ºè®®](./advice.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

**AeScape** - è®©æ¯ä¸€æ¬¡æ‰“å¼€æ–°æ ‡ç­¾é¡µéƒ½æˆä¸ºä¸€æ¬¡"å¤©äº•ä»ªå¼" ğŸ­