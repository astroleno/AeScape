# 天景 AeScape - 更新日志

## v2.0.0 - 2024-12-19

### 🚀 重大升级

#### API升级
- **升级到OpenWeatherMap One Call API 3.0**
  - 更高精度的天气数据
  - 10分钟更新频率
  - 支持48小时和8天预报
  - 基于专有OpenWeather模型

#### 设计优化
- **移除所有emoji图标**
  - 采用专业SVG图标系统
  - 支持不同天气状态的矢量图标
  - 响应式图标设计

#### 功能增强
- **API测试功能**
  - 一键测试API Key有效性
  - 实时验证API连接状态
  - 详细的错误提示信息

#### 稳定性改进
- **修复Extension Context错误**
  - 添加消息超时处理
  - 改进异步函数绑定
  - 防止扩展上下文失效

#### 用户体验优化
- **移除外部字体依赖**
  - 使用系统原生字体
  - 避免MIME类型错误
  - 更快的页面加载速度

### 🔧 技术改进

#### 后台服务重构
- 重新设计消息处理系统
- 优化API调用频率
- 改进错误处理机制

#### 前端体验升级
- 响应式设计优化
- 交互动画改进
- 加载状态可视化

#### 代码质量提升
- 完善错误处理
- 添加超时保护
- 优化异步操作

### 📱 界面更新

#### 设置面板
- 新增API测试按钮
- 改进按钮布局设计
- 优化用户交互流程

#### 天气显示
- 专业SVG图标系统
- 动态天气主题
- 简洁信息展示

### 🛠️ 开发者相关

#### 构建优化
- 移除外部依赖
- 简化项目结构
- 改进调试输出

#### 文档更新
- One Call API 3.0集成指南
- 详细安装说明
- API配置教程

---

## 升级指南

### 从v1.x升级到v2.0

1. **API Key重新配置**
   - 需要订阅One Call API 3.0
   - 在设置中重新输入API Key
   - 使用测试功能验证配置

2. **清除旧数据**
   - 建议清除扩展存储数据
   - 重新设置位置信息
   - 验证功能正常运行

### 新用户安装

1. 下载最新版本
2. 按照README.md安装指南操作
3. 配置One Call API 3.0 Key
4. 使用测试功能验证设置

---

## 已知问题

- One Call API 3.0需要单独订阅
- 免费层每天限制1,000次调用
- 部分旧版本Chrome可能存在兼容性问题

## 未来计划

- 添加更多天气预报功能
- 集成AI天气助手
- 支持更多自定义选项
- 优化移动设备体验

---

**让数字生活多一份宁静与美感**
