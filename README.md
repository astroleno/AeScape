# 天景 AeScape

让每一次打开新标签页都成为一次与自然的邂逅

一个融合了iOS18天气应用设计语言的Chrome扩展，为您的浏览体验增添一丝天气的诗意。

## 核心特性

- **沉浸式新标签页** - iOS18风格的全屏天气展示
- **动态视觉效果** - 根据天气条件变化的渐变背景和粒子效果  
- **智能位置服务** - 自动定位或手动搜索全球城市
- **实时数据更新** - 每30分钟自动刷新，支持手动刷新
- **悬浮天气球** - 在所有网页显示简洁的天气信息
- **一站式搜索** - 集成搜索框，支持网址和搜索查询
- **全球覆盖** - 基于OpenWeatherMap API，覆盖全球城市
- **响应式设计** - 完美适配桌面和移动设备

## 安装

1. 下载或克隆此仓库
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目根目录（AeScape文件夹）

## 配置API Key

使用免费版Current Weather API：

1. 访问 [OpenWeatherMap](https://openweathermap.org/current)
2. 注册免费账户（完全免费，无需订阅）
3. 获取API Key
4. 打开新标签页，点击右上角"设置"
5. 在API配置中输入您的API Key
6. 点击"测试API Key"验证配置

## 功能说明

### 沉浸式新标签页
- **动态背景**: 根据天气条件自动变化的美丽渐变背景
- **天气卡片**: iOS18风格的毛玻璃天气信息卡片
- **实时时间**: 优雅的时间和日期显示
- **一体化搜索**: 支持网址导航和搜索查询
- **快捷链接**: 常用网站快速访问
- **设置面板**: 完整的配置选项

### 悬浮天气球
- **简洁显示**: 在所有网页显示天气图标、温度和位置名称
- **智能隐藏**: 在Chrome内部页面自动隐藏
- **交互功能**: 悬停显示工具提示，点击查看详细天气信息
- **拖拽移动**: 支持拖拽到任意位置，位置自动保存
- **点击关闭**: 点击屏幕其他地方或按ESC键自动关闭详情面板
- **开关控制**: 可在扩展弹窗中开启/关闭悬浮球显示
- **响应式设计**: 在移动设备上自动调整大小
- 点击展开详细天气信息面板
- 自动适应网页主题，确保良好可见性
- 每5分钟自动更新数据

### 扩展弹窗
- 点击扩展图标快速查看天气概况
- 动态背景根据天气状况自动切换主题
- 悬浮球开关控制，一键开启/关闭
- 一键刷新和快速操作
- 简洁紧凑的信息展示

### 智能后台服务
- 每30分钟自动更新天气数据
- 智能位置管理和缓存
- 高效的API调用和数据处理

## 技术栈

- **Manifest V3** - 最新的Chrome扩展标准
- **Vanilla JavaScript** - 无框架依赖，纯净轻量
- **CSS3 + 现代特性** - 毛玻璃效果、渐变、动画
- **OpenWeatherMap API** - 全球天气数据服务
- **Chrome APIs** - Storage、Geolocation等原生接口
- **iOS设计语言** - 参考苹果天气应用的视觉设计

## 项目结构

```
AeScape/
├── manifest.json          # 扩展配置文件  
├── newtab.html            # 新标签页主页
├── popup.html             # 扩展弹窗页面
├── js/
│   ├── newtab.js          # 新标签页逻辑
│   ├── popup.js           # 弹窗逻辑  
│   ├── background.js      # 后台服务
│   └── content.js         # 内容脚本
├── css/
│   ├── newtab.css         # 新标签页样式
│   └── content.css        # 内容脚本样式
└── icon/                  # 扩展图标
    ├── icon16.png
    ├── icon32.png
    ├── icon48.png
    └── icon128.png
```

## API使用

本扩展使用 [OpenWeatherMap Current Weather Data API](https://openweathermap.org/current) 构建：

### API使用说明

OpenWeatherMap免费账户提供：
- **完全免费**: 每分钟60次API调用
- **每月100万次**: 足够个人长期使用
- **全球覆盖**: 覆盖全球20万个城市
- **实时更新**: 实时天气数据

**完全免费，无需付费升级**

### API功能

- **当前天气**: 获取实时天气状况
- **地理编码**: 将城市名称转换为坐标
- **多语言支持**: 支持中文天气描述
- **详细数据**: 温度、湿度、风速、气压等

## 权限说明

扩展需要以下权限：
- `storage` - 存储用户设置和缓存数据
- `geolocation` - 获取用户位置（可选）
- `https://api.openweathermap.org/*` - 访问天气API

## 自定义

您可以通过修改以下文件来自定义扩展：

- `popup.html` - 修改弹出窗口布局
- `css/floating-ball.css` - 调整小部件样式
- `popup.js` - 添加新的功能逻辑

## 问题反馈

如果您遇到任何问题或有改进建议，请：

1. 检查浏览器控制台是否有错误信息
2. 确认网络连接正常
3. 验证API服务是否可用

## 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件

## 致谢

- [OpenWeatherMap](https://openweathermap.org/) - 提供专业的天气API服务
- Chrome扩展开发者社区 - 技术支持和灵感

---

**让数字生活多一份宁静与美感**